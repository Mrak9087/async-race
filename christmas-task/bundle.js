(()=>{"use strict";var t={197:(t,e,n)=>{t.exports=n.p+"assets/audio/music..mp3"}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t,e=function(t,e){void 0===e&&(e="div"),this.node=document.createElement(e),this.node.className=t},i=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),r=function(t){function e(e,n,i){var r=t.call(this,"filter_range")||this;return r.setLeftValue=function(){var t=r.minRange,e=r.maxRange;r.minValue=Math.min(parseInt(r.inputLeftHid.value),parseInt(r.inputRightHid.value)),r.outMin.innerHTML=r.minValue.toString(),r.inputLeftHid.value=r.minValue.toString();var n=(parseInt(r.inputLeftHid.value)-t)/(e-t)*100;r.thumbLeft.style.left=n+"%",r.range.style.left=n+"%",r.funcFilter()},r.setRightValue=function(){var t=r.minRange,e=r.maxRange;r.maxValue=Math.max(parseInt(r.inputRightHid.value),parseInt(r.inputLeftHid.value)),r.outMax.innerHTML=r.maxValue.toString(),r.inputRightHid.value=r.maxValue.toString();var n=(parseInt(r.inputRightHid.value)-t)/(e-t)*100;r.thumbRight.style.right=100-n+"%",r.range.style.right=100-n+"%",r.funcFilter()},r.minRange=e,r.maxRange=n,r.minValue=e,r.maxValue=n,r.step=i,r.funcFilter=function(){},r}return i(e,t),e.prototype.init=function(){var t=this;this.inputLeftHid=document.createElement("input"),this.inputLeftHid.type="range",this.inputLeftHid.className="progress",this.inputLeftHid.min=this.minRange.toString(),this.inputLeftHid.max=this.maxRange.toString(),this.inputLeftHid.step=this.step.toString(),this.inputLeftHid.value=this.minRange.toString(),this.inputLeftHid.addEventListener("input",this.setLeftValue),this.inputRightHid=document.createElement("input"),this.inputRightHid.type="range",this.inputRightHid.className="progress",this.inputRightHid.min=this.minRange.toString(),this.inputRightHid.max=this.maxRange.toString(),this.inputRightHid.step=this.step.toString(),this.inputRightHid.value=this.maxRange.toString(),this.inputRightHid.addEventListener("input",this.setRightValue),this.slider=document.createElement("div"),this.slider.className="slider",this.track=document.createElement("div"),this.track.className="track",this.range=document.createElement("div"),this.range.className="range",this.thumbLeft=document.createElement("div"),this.thumbLeft.className="thumb left",this.thumbRight=document.createElement("div"),this.thumbRight.className="thumb right",this.inputLeftHid.addEventListener("mouseover",(function(){t.thumbLeft.classList.add("hover")})),this.inputLeftHid.addEventListener("mouseout",(function(){t.thumbLeft.classList.remove("hover")})),this.inputLeftHid.addEventListener("mousedown",(function(){t.thumbLeft.classList.add("active")})),this.inputLeftHid.addEventListener("mouseup",(function(){t.thumbLeft.classList.remove("active")})),this.inputRightHid.addEventListener("mouseover",(function(){t.thumbRight.classList.add("hover")})),this.inputRightHid.addEventListener("mouseout",(function(){t.thumbRight.classList.remove("hover")})),this.inputRightHid.addEventListener("mousedown",(function(){t.thumbRight.classList.add("active")})),this.inputRightHid.addEventListener("mouseup",(function(){t.thumbRight.classList.remove("active")})),this.outMin=document.createElement("output"),this.outMin.className="out",this.outMax=document.createElement("output"),this.outMax.className="out",this.slider.append(this.inputLeftHid,this.inputRightHid,this.track,this.range,this.thumbLeft,this.thumbRight),this.node.append(this.outMin,this.slider,this.outMax),this.setLeftValue(),this.setRightValue()},e.prototype.setDefault=function(){this.minValue=this.minRange,this.maxValue=this.maxRange,this.inputLeftHid.value=this.minValue.toString(),this.inputRightHid.value=this.maxValue.toString(),this.setLeftValue(),this.setRightValue()},e.prototype.setMinVal=function(t){this.inputLeftHid.value=t.toString(),this.setLeftValue()},e.prototype.setMaxVal=function(t){this.inputRightHid.value=t.toString(),this.setRightValue()},e}(e),a=["большой","средний","малый"],o=["белый","желтый","красный","синий","зелёный"],s=["шар","колокольчик","шишка","снежинка","фигурка"],c=["1","2","3","4","5","6"],l=["1","2","3","4","5","6","7","8","9","10"],u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h=function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}c((i=i.apply(t,e||[])).next())}))},m=function(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},d=function(t){function e(e){var n=t.call(this,"page filter_toys")||this;return n.shapeFilterBtns=[],n.colorFilterBtns=[],n.sizeFilterBtns=[],n.filterCountHandler=function(){return h(n,void 0,void 0,(function(){var t;return m(this,(function(e){switch(e.label){case 0:return this.filters.count.min=this.filterCount.minValue,this.filters.count.max=this.filterCount.maxValue,localStorage.setItem("mrk90_christmasFilter",JSON.stringify(this.filters)),t=this,[4,this.doFilter(this.arrayToys)];case 1:return t.arrFiltered=e.sent(),this.showToys(this.arrFiltered),[2]}}))}))},n.filterYearHandler=function(){return h(n,void 0,void 0,(function(){var t;return m(this,(function(e){switch(e.label){case 0:return this.filters.years.min=this.filterYear.minValue,this.filters.years.max=this.filterYear.maxValue,localStorage.setItem("mrk90_christmasFilter",JSON.stringify(this.filters)),t=this,[4,this.doFilter(this.arrayToys)];case 1:return t.arrFiltered=e.sent(),this.showToys(this.arrFiltered),[2]}}))}))},n.arrayToys=e,n.filters=JSON.parse(localStorage.getItem("mrk90_christmasFilter"))||{size:Array(),shape:Array(),color:Array(),favor:!1,count:{min:1,max:12},years:{min:1940,max:2020}},n}return u(e,t),e.prototype.init=function(){return h(this,void 0,void 0,(function(){var t,e,n,i,a,o,s,c,l,u=this;return m(this,(function(d){switch(d.label){case 0:return(t=document.createElement("div")).className="filter_container",(e=document.createElement("div")).className="filter_item",e.innerHTML="<h2>Фильтры по значению</h2>",(n=document.createElement("div")).className="filter_item",n.innerHTML="<h2>Фильтры по диапазону</h2>",(i=document.createElement("div")).className="filter_item",i.innerHTML="<h2>Сортировка и поиск</h2>",this.arrFiltered=this.arrayToys.slice(0),this.filterShapeDiv=document.createElement("div"),this.filterShapeDiv.className="filter_item_val",this.filterShapeDiv.innerHTML="<span>Форма:</span>",this.createBtnFilterShape(),this.filterColorDiv=document.createElement("div"),this.filterColorDiv.className="filter_item_val",this.filterColorDiv.innerHTML="<span>Цвет:</span>",this.createBtnFilterColor(),this.filterSizeDiv=document.createElement("div"),this.filterSizeDiv.className="filter_item_val",this.filterSizeDiv.innerHTML="<span>Размер:</span>",this.createBtnFilterSize(),this.filterFavoriteDiv=document.createElement("div"),this.filterFavoriteDiv.className="filter_item_val",this.filterFavoriteDiv.innerHTML="<span>Только любимые:</span>",this.createBtnFilterFavorite(),e.append(this.filterShapeDiv,this.filterColorDiv,this.filterSizeDiv,this.filterFavoriteDiv),this.boxToys=document.createElement("div"),this.boxToys.className="box_toys",a=this,[4,this.doFilter(this.arrayToys)];case 1:for(a.arrFiltered=d.sent(),this.showToys(this.arrFiltered),this.filterCountItem=document.createElement("div"),this.filterCountItem.className="filter_item_val range_item",this.filterCountItem.innerHTML="<span>Количество экземпляров:</span>",this.filterYearsItem=document.createElement("div"),this.filterYearsItem.className="filter_item_val range_item",this.filterYearsItem.innerHTML="<span>Год приобретения:</span>",this.filterCount=new r(1,12,1),this.filterCount.init(),this.filterCount.setMinVal(this.filters.count.min),this.filterCount.setMaxVal(this.filters.count.max),this.filterCount.funcFilter=this.filterCountHandler,this.filterCountItem.append(this.filterCount.node),this.filterYear=new r(1940,2020,10),this.filterYear.init(),this.filterYear.setMinVal(this.filters.years.min),this.filterYear.setMaxVal(this.filters.years.max),this.filterYear.funcFilter=this.filterYearHandler,this.filterYearsItem.append(this.filterYear.node),n.append(this.filterCountItem,this.filterYearsItem),this.selectSort=document.createElement("select"),this.selectSort.className="sort_select",this.selectSort.innerHTML='<option selected="" value="sort-name-max">По названию от «А» до «Я»</option>\n        <option value="sort-name-min">По названию от «Я» до «А»</option>\n        <option value="sort-count-max">По количеству по возрастанию</option>\n        <option value="sort-count-min">По количеству по убыванию</option>',this.sortValue=localStorage.getItem("mrk90_christmasSort")||this.selectSort.value,o=0;o<this.selectSort.options.length;o++)this.selectSort.options[o].value===this.sortValue&&(this.selectSort.options[o].selected=!0);return this.selectSort.addEventListener("change",(function(){u.sortValue=u.selectSort.value,localStorage.setItem("mrk90_christmasSort",u.sortValue),u.sortToy(u.arrFiltered),u.showToys(u.arrFiltered)})),(s=document.createElement("div")).className="search_container",(c=document.createElement("button")).type="button",c.className="rst_search",c.addEventListener("click",(function(){return h(u,void 0,void 0,(function(){var t,e;return m(this,(function(n){switch(n.label){case 0:return this.search.value="",c.classList.remove("show"),t=this,[4,this.doSearch(this.search.value)];case 1:return t.arrFiltered=n.sent(),e=this,[4,this.doFilter(this.arrFiltered)];case 2:return e.arrFiltered=n.sent(),this.showToys(this.arrFiltered),[2]}}))}))})),this.search=document.createElement("input"),this.search.className="search",this.search.autocomplete="off",this.search.placeholder="Название игрушки",this.search.addEventListener("input",(function(){return h(u,void 0,void 0,(function(){var t,e;return m(this,(function(n){switch(n.label){case 0:return this.search.value.length?c.classList.add("show"):c.classList.remove("show"),t=this,[4,this.doSearch(this.search.value)];case 1:return t.arrFiltered=n.sent(),e=this,[4,this.doFilter(this.arrFiltered)];case 2:return e.arrFiltered=n.sent(),this.showToys(this.arrFiltered),[2]}}))}))})),s.append(this.search,c),this.resetBtn=document.createElement("button"),this.resetBtn.className="reset",this.resetBtn.innerText="Сброс фильтров",this.resetBtn.addEventListener("click",(function(){u.clearFilter()})),i.append(this.selectSort,s,this.resetBtn),t.append(e,n,i),this.node.append(t,this.boxToys),l=this,[4,this.doFilter(this.arrayToys)];case 2:return l.arrFiltered=d.sent(),this.sortToy(this.arrFiltered),this.showToys(this.arrFiltered),[2]}}))}))},e.prototype.createBtnFilterSize=function(){var t=this;a.forEach((function(e){var n=document.createElement("button");n.dataset.filterValue=e,n.className="btn_size","средний"===e&&n.classList.add("middle"),"малый"===e&&n.classList.add("small"),t.filters.size.find((function(t){return t===e}))&&n.classList.add("active"),n.addEventListener("click",(function(){t.filterHandler(n,t.filters.size)})),t.sizeFilterBtns.push(n),t.filterSizeDiv.append(n)}))},e.prototype.createBtnFilterColor=function(){var t=this;o.forEach((function(e){var n=document.createElement("button");switch(n.dataset.filterValue=e,n.className="btn_color",e){case"белый":n.classList.add("clWhite");break;case"желтый":n.classList.add("clYellow");break;case"красный":n.classList.add("clRed");break;case"синий":n.classList.add("clBlue");break;case"зелёный":n.classList.add("clGreen")}t.filters.color.find((function(t){return t===e}))&&n.classList.add("active"),n.addEventListener("click",(function(){t.filterHandler(n,t.filters.color)})),t.colorFilterBtns.push(n),t.filterColorDiv.append(n)}))},e.prototype.createBtnFilterShape=function(){var t=this;s.forEach((function(e){var n=document.createElement("button");switch(n.dataset.filterValue=e,n.className="btn_shape",e){case"шар":n.classList.add("clBall");break;case"колокольчик":n.classList.add("clBell");break;case"шишка":n.classList.add("clCone");break;case"снежинка":n.classList.add("clSnow");break;case"фигурка":n.classList.add("clToy")}t.filters.shape.find((function(t){return t===e}))&&n.classList.add("active"),n.addEventListener("click",(function(){t.filterHandler(n,t.filters.shape)})),t.shapeFilterBtns.push(n),t.filterShapeDiv.append(n)}))},e.prototype.createBtnFilterFavorite=function(){var t=this;this.favoriteFilterBtn=document.createElement("button"),this.favoriteFilterBtn.className="btn_favor",this.favoriteFilterBtn.addEventListener("click",(function(){t.filterFavoriteHandler(t.favoriteFilterBtn)})),this.filters.favor&&this.favoriteFilterBtn.classList.add("active"),this.filterFavoriteDiv.append(this.favoriteFilterBtn)},e.prototype.filterHandler=function(t,e){return h(this,void 0,void 0,(function(){var n,i;return m(this,(function(r){switch(r.label){case 0:return(n=e.findIndex((function(e){return e===t.dataset.filterValue})))>-1?(e.splice(n,1),t.classList.remove("active")):(e.push(t.dataset.filterValue),t.classList.add("active")),localStorage.setItem("mrk90_christmasFilter",JSON.stringify(this.filters)),i=this,[4,this.doFilter(this.arrayToys)];case 1:return i.arrFiltered=r.sent(),this.showToys(this.arrFiltered),[2]}}))}))},e.prototype.filterFavoriteHandler=function(t){return h(this,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:return this.filters.favor?(this.filters.favor=!1,t.classList.remove("active")):(this.filters.favor=!0,t.classList.add("active")),localStorage.setItem("mrk90_christmasFilter",JSON.stringify(this.filters)),e=this,[4,this.doFilter(this.arrayToys)];case 1:return e.arrFiltered=n.sent(),this.showToys(this.arrFiltered),[2]}}))}))},e.prototype.doFilter=function(t){return h(this,void 0,void 0,(function(){var e=this;return m(this,(function(n){return[2,new Promise((function(n){n(t.filter((function(t){return!(e.filters.size.length&&!e.filters.size.find((function(e){return e===t.getSize()}))||e.filters.color.length&&!e.filters.color.find((function(e){return e===t.getColor()}))||e.filters.shape.length&&!e.filters.shape.find((function(e){return e===t.getShape()}))||e.filters.favor&&!t.getFavorite()||t.getCount()<e.filters.count.min||t.getCount()>e.filters.count.max||t.getYear()<e.filters.years.min||t.getYear()>e.filters.years.max)})))}))]}))}))},e.prototype.doSearch=function(t){return h(this,void 0,void 0,(function(){var e=this;return m(this,(function(n){return[2,new Promise((function(n){n(e.arrayToys.filter((function(e){return e.getName().toLowerCase().indexOf(t.toLowerCase())>-1})))}))]}))}))},e.prototype.showToys=function(t){var e=this;this.sortToy(t),this.boxToys.innerHTML="",t.forEach((function(t){e.boxToys.append(t.node)}))},e.prototype.sortToy=function(t){"sort-name-max"===this.sortValue&&t.sort((function(t,e){var n=t.getName().toLowerCase(),i=e.getName().toLowerCase();return n<i?-1:n>i?1:0})),"sort-name-min"===this.sortValue&&t.sort((function(t,e){var n=t.getName().toLowerCase(),i=e.getName().toLowerCase();return n>i?-1:n<i?1:0})),"sort-count-max"===this.sortValue&&t.sort((function(t,e){return t.getCount()-e.getCount()})),"sort-count-min"===this.sortValue&&t.sort((function(t,e){return e.getCount()-t.getCount()}))},e.prototype.clearFilter=function(){return h(this,void 0,void 0,(function(){var t;return m(this,(function(e){switch(e.label){case 0:return this.filters={size:Array(),shape:Array(),color:Array(),favor:!1,count:{min:1,max:12},years:{min:1940,max:2020}},localStorage.setItem("mrk90_christmasFilter",JSON.stringify(this.filters)),this.sizeFilterBtns.forEach((function(t){t.classList.remove("active")})),this.colorFilterBtns.forEach((function(t){t.classList.remove("active")})),this.shapeFilterBtns.forEach((function(t){t.classList.remove("active")})),this.favoriteFilterBtn.classList.remove("active"),this.filterYear.setDefault(),this.filterCount.setDefault(),this.selectSort.selectedIndex=0,this.search.value="",t=this,[4,this.doFilter(this.arrayToys)];case 1:return t.arrFiltered=e.sent(),this.showToys(this.arrFiltered),[2]}}))}))},e.prototype.setFocus=function(){this.search.focus()},e.prototype.getArrToys=function(){return this.arrayToys},e}(e),f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),p=function(t){function e(e){var n=t.call(this,"tree_thumb_container")||this;return n.treeImage=e,n.node.style.cssText="background-image: url(./assets/tree/".concat(n.treeImage,".png)"),n}return f(e,t),e.prototype.getTreeImage=function(){return this.treeImage},e}(e),v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),y=function(t){function e(e){var n=t.call(this,"bg_container")||this;return n.bgImage=e,n.node.style.cssText="background-image: url(./assets/bg/".concat(n.bgImage,".jpg)"),n}return v(e,t),e.prototype.getBgImage=function(){return this.bgImage},e}(e),g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_=function(t){function e(e){var n=t.call(this,"toy_cell")||this;return n.countToy=0,n.imageArr=[],n.toy=e,n.numImg=n.toy.getNumImage(),n.countToy=n.toy.getCount(),n}return g(e,t),e.prototype.init=function(){this.toyCountP=document.createElement("p"),this.toyCountP.className="toy_count",this.toyCountP.innerHTML=this.countToy.toString();for(var t=0;t<this.countToy;t++){var e=new Image;e.className="img_toy",e.src="./assets/toys/".concat(this.numImg,".png"),e.alt="toy",e.draggable=!0,e.id="".concat(this.numImg,"-").concat(t),e.dataset.imgNum=this.numImg.toString(),this.imageArr.push(e),this.node.append(e)}this.node.append(this.toyCountP)},e.prototype.updateCount=function(){this.toyCountP.innerHTML="".concat(this.node.childNodes.length-1)},e}(e),b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),S=function(t){function e(){var e=t.call(this,"snowflakes snow_hide")||this;return e.isStart=!1,e.handleStartStopSnow=function(){e.isStart?(e.isStart=!1,e.node.classList.add("snow_hide")):(e.node.classList.remove("snow_hide"),e.isStart=!0),localStorage.setItem("mrk90_snow",(!e.isStart).toString())},e.startSnowBtn=document.createElement("button"),e.startSnowBtn.className="snow_btn",e.startSnowBtn.addEventListener("click",(function(){e.handleStartStopSnow()})),e.createSnowFlake(),e.isStart="true"===localStorage.getItem("mrk90_snow"),console.log("snow",e.isStart),e.isStart||e.handleStartStopSnow(),e}return b(e,t),e.prototype.createSnowFlake=function(){for(var t=0;t<25;t++){var e=document.createElement("i");this.node.append(e)}},e}(e),L=n(197),T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),E=function(t){function e(){var e=t.call(this,"audio")||this;return e.isPlayed=!1,e.handleClick=function(){e.isPlayed?(e.player.pause(),e.player.currentTime=0,e.isPlayed=!1,e.node.classList.remove("play")):(e.player.play(),e.isPlayed=!0,e.node.classList.add("play")),localStorage.setItem("mrk90_audPlay",e.isPlayed.toString())},e.player=new Audio,e.player.src=L,e.player.loop=!0,e.node.addEventListener("click",(function(){e.handleClick()})),e}return T(e,t),e}(e),w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),N=function(t){function e(){var e=t.call(this,"garland garland_hide")||this;return e.bulbs=[],e.handleBtnColorClick=function(t){e.bulbs.forEach((function(e){e.className=t.dataset.color}))},e.handleCheck=function(t){t?e.node.classList.remove("garland_hide"):e.node.classList.add("garland_hide"),localStorage.setItem("mrk90_garland",t.toString())},e}return w(e,t),e.prototype.init=function(){this.createPanelGarland(),this.createGarlandItem(120,65,12,5),this.createGarlandItem(170,60,10,7),this.createGarlandItem(230,60,8,8),this.createGarlandItem(300,60,6,11),this.createGarlandItem(380,55,4,18),this.createGarlandItem(465,55,3.5,21),this.createGarlandItem(555,58,3,24),this.createGarlandItem(650,58,2,29)},e.prototype.createGarlandItem=function(t,e,n,i){var r=document.createElement("ul");r.className="lightrope",r.style.width="".concat(t,"px"),r.style.height="".concat(t,"px");for(var a=0;a<i;a++){var o=document.createElement("li");o.className="multicolor";var s=n*a;o.style.transform=" rotate(".concat(e+s,"deg) translate(").concat(t/2,"px) rotate(-").concat(e+s,"deg)"),r.append(o),this.bulbs.push(o)}this.node.append(r)},e.prototype.createPanelGarland=function(){var t=this;this.panelGarland=document.createElement("div"),this.panelGarland.className="garland-container",this.onOffGarland=document.createElement("div"),this.onOffGarland.className="onoffswitch";var e=document.createElement("input");e.type="checkbox",e.name="onoffswitch",e.className="onoffswitch-checkbox",e.id="myonoffswitch",e.checked="true"===localStorage.getItem("mrk90_garland"),e.checked&&this.node.classList.remove("garland_hide"),e.addEventListener("change",(function(){t.handleCheck(e.checked)}));var n=document.createElement("label");n.className="onoffswitch-label",n.setAttribute("for","myonoffswitch"),n.innerHTML='<div class="onoffswitch-inner"></div>\n        <div class="onoffswitch-switch"></div>',this.onOffGarland.append(e,n);var i=document.createElement("button");i.className="color-btn multicolor-btn",i.dataset.color="multicolor",i.addEventListener("click",(function(){t.handleBtnColorClick(i)}));var r=document.createElement("button");r.className="color-btn red-btn",r.dataset.color="red",r.addEventListener("click",(function(){t.handleBtnColorClick(r)}));var a=document.createElement("button");a.className="color-btn blue-btn",a.dataset.color="blue",a.addEventListener("click",(function(){t.handleBtnColorClick(a)}));var o=document.createElement("button");o.className="color-btn yellow-btn",o.dataset.color="yellow",o.addEventListener("click",(function(){t.handleBtnColorClick(o)}));var s=document.createElement("button");s.className="color-btn green-btn",s.dataset.color="green",s.addEventListener("click",(function(){t.handleBtnColorClick(s)})),this.panelGarland.append(i,r,a,o,s,this.onOffGarland)},e}(e),C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k=function(t){function e(){var e=t.call(this,"history_container")||this;return e.thumbTrees=[],e}return C(e,t),e.prototype.init=function(){var t=this;this.btnSave=document.createElement("button"),this.btnSave.className="btn btn_history",this.btnSave.innerHTML="Сохранить";var e=document.createElement("h2");e.innerHTML="Вы нарядили";var n=document.createElement("div");n.className="history",c.forEach((function(e){var i=new p(e);n.append(i.node),t.thumbTrees.push(i)})),this.node.append(e,n,this.btnSave)},e.prototype.getThumbTrees=function(){return this.thumbTrees},e}(e),F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),x=function(t){function e(){var e=t.call(this,"page tree_game")||this;return e.toys=[],e.thumbTrees=[],e.thumbBgs=[],e.toyCells=[],e.activeBg="1",e.activeTree="1",e.saveArrTree=[],e.createToyCells=function(){e.toys.forEach((function(t){var n=new _(t);n.init(),n.imageArr.forEach((function(t){t.addEventListener("dragstart",(function(n){e.handleDragStart(n,t)})),t.addEventListener("dragend",(function(i){e.handleDragEnd(i,t,n,e.areaElement)}))})),e.toyCells.push(n),e.toyContainer.append(n.node)}))},e.handleDragStart=function(t,e){t.dataTransfer.setData("id",e.id)},e.handleDragEnd=function(t,e,n,i){if("none"===t.dataTransfer.dropEffect){if(e.parentNode==(null==n?void 0:n.node))return;e.parentNode.removeChild(e),e.removeAttribute("style"),null==n||n.node.append(e)}else{var r=i.getBoundingClientRect(),a=t.clientY-r.top-e.offsetWidth/2,o=t.clientX-r.left-e.offsetHeight/2;e.style.top="".concat(a,"px"),e.style.left="".concat(o,"px"),e.parentNode.removeChild(e),i.append(e)}null==n||n.updateCount()},e}return F(e,t),e.prototype.init=function(){this.activeTree=localStorage.getItem("mrk90_chr_tree")||"1",this.activeBg=localStorage.getItem("mrk90_chr_bg")||"1",this.containerDiv=document.createElement("div"),this.containerDiv.className="container tree_container",this.createSetting(),this.createViewGame(),this.createToyTree(),this.viewGameDiv.prepend(this.snow.node,this.garland.node),this.containerDiv.append(this.settingDiv,this.viewGameDiv,this.toyTreeDiv),this.node.append(this.containerDiv)},e.prototype.createSetting=function(){var t=this;this.snow=new S,this.player=new E,this.snow.createSnowFlake(),this.settingDiv=document.createElement("div"),this.settingDiv.className="setting",c.forEach((function(e){var n=new p(e);n.node.addEventListener("click",(function(){t.handleTreeClick(n)})),t.thumbTrees.push(n)}));var e=this.createSettingItem("Выберите елку",this.thumbTrees);l.forEach((function(e){var n=new y(e);n.node.addEventListener("click",(function(){t.handleBackgroundClick(n)})),t.thumbBgs.push(n)}));var n=this.createSettingItem("Выберите фон",this.thumbBgs),i=document.createElement("div");i.className="st_control",i.append(this.player.node,this.snow.startSnowBtn),this.garland=new N,this.garland.init(),this.settingDiv.append(i,e,n,this.garland.panelGarland)},e.prototype.createSettingItem=function(t,e){var n=document.createElement("div");n.className="setting_item",n.innerHTML="<h2>".concat(t,"</h2>");var i=document.createElement("div");return i.className="st_item_container",e.forEach((function(t){i.append(t.node)})),n.append(i),n},e.prototype.createViewGame=function(){this.viewGameDiv=document.createElement("div"),this.viewGameDiv.className="view_game",this.viewGameDiv.style.cssText="background-image: url(./assets/bg/".concat(this.activeBg,".jpg)"),this.mapElement=document.createElement("map"),this.mapElement.className="tree_card_map",this.mapElement.name="tree_map",this.areaElement=document.createElement("area"),this.areaElement.coords="365,699,189,706,113,683,31,608,2,555,2,539,18,437,73,351,106,224,161,134,243,-1,306,75,353,144,399,221,424,359,452,459,496,550,444,664",this.areaElement.shape="poly",this.areaElement.addEventListener("dragover",(function(t){t.preventDefault()})),this.mapElement.append(this.areaElement),this.imageTree=document.createElement("img"),this.imageTree.className="tree_img",this.imageTree.alt="tree",this.imageTree.useMap="#tree_map",this.imageTree.src="./assets/tree/".concat(this.activeTree,".png"),this.viewGameDiv.append(this.mapElement,this.imageTree)},e.prototype.createToyTree=function(){var t=this;this.toyTreeDiv=document.createElement("div"),this.toyTreeDiv.className="toy_tree";var e=document.createElement("div");e.className="toy_content",e.innerHTML="<h2>Игрушки</h2>",this.toyContainer=document.createElement("div"),this.toyContainer.className="toy_container",e.append(this.toyContainer),this.history=new k,this.history.init(),this.history.getThumbTrees().forEach((function(e){e.node.addEventListener("click",(function(){t.handleLoadClick(e)}))})),this.history.btnSave.addEventListener("click",(function(){t.handleSaveClick()})),this.toyTreeDiv.append(e,this.history.node)},e.prototype.setToys=function(t){this.toyContainer.innerHTML="",this.toys=t.slice(0),this.createToyCells()},e.prototype.handleBackgroundClick=function(t){this.activeBg=t.getBgImage(),localStorage.setItem("mrk90_chr_bg",this.activeBg),this.viewGameDiv.style.cssText="background-image: url(./assets/bg/".concat(this.activeBg,".jpg)")},e.prototype.handleTreeClick=function(t){this.activeTree=t.getTreeImage(),localStorage.setItem("mrk90_chr_tree",this.activeBg),this.imageTree.src="./assets/tree/".concat(this.activeTree,".png")},e.prototype.handleSaveClick=function(){var t=this,e=this.saveArrTree.find((function(e){return e.treeNum===t.activeTree})),n=[];this.areaElement.querySelectorAll("img").forEach((function(t){var e={numImg:t.dataset.imgNum,top:t.style.top,left:t.style.left,id:t.id};n.push(e)}));var i={bgNum:this.activeBg,treeNum:this.activeTree,imgArr:n};e?(e.bgNum=i.bgNum,e.treeNum=i.treeNum,e.imgArr=i.imgArr):this.saveArrTree.push(i),localStorage.setItem("mrk90_savetree",JSON.stringify(this.saveArrTree))},e.prototype.handleLoadClick=function(t){var e=this,n=JSON.parse(localStorage.getItem("mrk90_savetree"));if(n){var i=n.find((function(e){return e.treeNum===t.getTreeImage()}));i&&(this.activeBg=i.bgNum,this.viewGameDiv.style.cssText="background-image: url(./assets/bg/".concat(this.activeBg,".jpg)"),this.activeTree=i.treeNum,this.imageTree.src="./assets/tree/".concat(this.activeTree,".png"),this.areaElement.innerHTML="",i.imgArr.forEach((function(t){var n=new Image;n.className="img_toy",n.src="./assets/toys/".concat(t.numImg,".png"),n.alt="toy",n.draggable=!0,n.style.top=t.top,n.style.left=t.left,n.id=t.id,n.dataset.imgNum=t.numImg,n.addEventListener("dragstart",(function(t){e.handleDragStart(t,n)})),n.addEventListener("dragend",(function(t){e.handleDragEnd(t,n,null,e.areaElement)})),e.areaElement.append(n)})))}},e.prototype.clearTree=function(){var t;null===(t=this.toyCells)||void 0===t||t.forEach((function(t){t.imageArr.forEach((function(t){t.remove()}))}))},e.prototype.playSound=function(){this.player.handleClick()},e}(e);const I=[{num:"1",name:"Большой шар с рисунком",count:"2",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"2",name:"Зелёный шар с цветами",count:"5",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"3",name:"Красный матовый шар",count:"3",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"4",name:"Сосулька красная",count:"2",year:"1980",shape:"фигурка",color:"красный",size:"большой",favorite:!1},{num:"5",name:"Красный виноград",count:"4",year:"1980",shape:"фигурка",color:"красный",size:"средний",favorite:!0},{num:"6",name:"Красный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"7",name:"Молочно-белый шар",count:"12",year:"1960",shape:"шар",color:"белый",size:"средний",favorite:!0},{num:"8",name:"Красный шар",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"9",name:"Колокольчик старинный",count:"2",year:"1950",shape:"колокольчик",color:"белый",size:"большой",favorite:!1},{num:"10",name:"Белый шар ретро",count:"7",year:"1960",shape:"шар",color:"белый",size:"большой",favorite:!1},{num:"11",name:"Шишка еловая белая",count:"11",year:"1960",shape:"шишка",color:"белый",size:"малый",favorite:!1},{num:"12",name:"Белый шар с цветами",count:"5",year:"1980",shape:"шар",color:"белый",size:"большой",favorite:!1},{num:"13",name:"Шар расписной Река",count:"3",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!0},{num:"14",name:"Шар расписной Деревня",count:"4",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!0},{num:"15",name:"Колокольчик расписной",count:"3",year:"1970",shape:"колокольчик",color:"синий",size:"средний",favorite:!1},{num:"16",name:"Шишка расписная Пейзаж",count:"3",year:"1970",shape:"шишка",color:"синий",size:"средний",favorite:!0},{num:"17",name:"Шишка расписная",count:"7",year:"1970",shape:"шишка",color:"красный",size:"средний",favorite:!1},{num:"18",name:"Желтый шар с бантом",count:"2",year:"2010",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"19",name:"Желтый шар с паетками",count:"12",year:"1980",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"20",name:"Красный шар с бантом",count:"8",year:"1950",shape:"шар",color:"красный",size:"средний",favorite:!0},{num:"21",name:"Красный шар с звёздами",count:"4",year:"1970",shape:"шар",color:"красный",size:"большой",favorite:!0},{num:"22",name:"Шишка еловая золотая",count:"11",year:"1990",shape:"шишка",color:"желтый",size:"малый",favorite:!1},{num:"23",name:"Колокольчик старинный",count:"9",year:"1950",shape:"колокольчик",color:"желтый",size:"большой",favorite:!1},{num:"24",name:"Снежинка изящная",count:"1",year:"1940",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"25",name:"Розовый шар с блёстками",count:"12",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"26",name:"Рубиново-золотой шар",count:"8",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"27",name:"Красный шар с узором",count:"4",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"28",name:"Бордовый шар с узором",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"29",name:"Старинный шар с цветами",count:"5",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:!0},{num:"30",name:"Старинный шар с узором",count:"8",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:!0},{num:"31",name:"Красный шар с блёстками",count:"8",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"32",name:"Синий шар Вселенная",count:"11",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"33",name:"Синий шар со снежинкой",count:"6",year:"2010",shape:"шар",color:"синий",size:"средний",favorite:!1},{num:"34",name:"Зелёный  шар с узором",count:"8",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"35",name:"Фигурка Лис в шарфе",count:"8",year:"1950",shape:"фигурка",color:"желтый",size:"средний",favorite:!0},{num:"36",name:"Сиреневый шар Метель",count:"1",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"37",name:"Зелёный  шар Метель",count:"6",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"38",name:"Голубой  шар Метель",count:"6",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"39",name:"Красная снежинка",count:"6",year:"1990",shape:"снежинка",color:"красный",size:"большой",favorite:!1},{num:"40",name:"Снежинка золотая",count:"12",year:"2020",shape:"снежинка",color:"желтый",size:"большой",favorite:!1},{num:"41",name:"Снежинка арктическая",count:"11",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"42",name:"Зелёный шар",count:"10",year:"1980",shape:"шар",color:"зелёный",size:"средний",favorite:!1},{num:"43",name:"Снежинка двухцветная",count:"6",year:"1960",shape:"снежинка",color:"красный",size:"большой",favorite:!1},{num:"44",name:"Фигурка Ангела",count:"11",year:"1940",shape:"фигурка",color:"красный",size:"средний",favorite:!0},{num:"45",name:"Снежинка новогодняя",count:"1",year:"1980",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"46",name:"Фигурка Мухомор",count:"10",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:!1},{num:"47",name:"Фигурка Колодец",count:"6",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:!1},{num:"48",name:"Желтый шар с бантом",count:"6",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"49",name:"Снежинка с бирюзой",count:"4",year:"1980",shape:"снежинка",color:"желтый",size:"большой",favorite:!1},{num:"50",name:"Колокольчик большой",count:"3",year:"2020",shape:"колокольчик",color:"красный",size:"большой",favorite:!1},{num:"51",name:"Шишка с изморозью",count:"12",year:"1970",shape:"шишка",color:"красный",size:"малый",favorite:!1},{num:"52",name:"Красный шар с надписью",count:"12",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:!0},{num:"53",name:"Снежинка серебристая",count:"6",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"54",name:"Зелёный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"55",name:"Пряничный домик",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"большой",favorite:!1},{num:"56",name:"Пряничный теремок",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"малый",favorite:!1},{num:"57",name:"Пряничная избушка",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"средний",favorite:!1},{num:"58",name:"Фигурка белого медведя",count:"2",year:"1980",shape:"фигурка",color:"белый",size:"средний",favorite:!1},{num:"59",name:"Желтый шар с надписью",count:"10",year:"1990",shape:"шар",color:"желтый",size:"средний",favorite:!1},{num:"60",name:"Фигурка Голубь",count:"12",year:"1940",shape:"фигурка",color:"белый",size:"средний",favorite:!0}];var H=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),z=function(t){function e(e){var n=t.call(this,"toy")||this;return n.numImage=+e.num,n.name=e.name,n.count=+e.count,n.year=+e.year,n.shape=e.shape,n.color=e.color,n.size=e.size,n.favorite=e.favorite,n.isSelect=!1,n}return H(e,t),e.prototype.init=function(){this.divName=document.createElement("div"),this.divName.className="font_name",this.divName.innerHTML=this.name,this.divImg=document.createElement("div"),this.divImg.className="toy_picture",this.divImg.style.backgroundImage="url(./assets/toys/".concat(this.numImage,".png)"),this.divCount=document.createElement("div"),this.divCount.className="font_info",this.divCount.innerHTML="Количество: ".concat(this.count),this.divYear=document.createElement("div"),this.divYear.className="font_info",this.divYear.innerHTML="Год покупки: ".concat(this.year," год"),this.divShape=document.createElement("div"),this.divShape.className="font_info",this.divShape.innerHTML="Форма игрушки: ".concat(this.shape),this.divColor=document.createElement("div"),this.divColor.className="font_info",this.divColor.innerHTML="Цвет игрушки: ".concat(this.color),this.divSize=document.createElement("div"),this.divSize.className="font_info",this.divSize.innerHTML="Размер игрушки: ".concat(this.size),this.divFavorite=document.createElement("div"),this.divFavorite.className="font_info",this.divFavorite.innerHTML="Любимая: ".concat(this.favorite?"да":"нет"),this.selectDiv=document.createElement("div"),this.selectDiv.className="select",this.node.append(this.divName,this.divImg,this.divCount,this.divYear,this.divShape,this.divColor,this.divSize,this.divFavorite,this.selectDiv)},e.prototype.changeFavorite=function(){this.favorite=!this.favorite},e.prototype.getSize=function(){return this.size},e.prototype.getColor=function(){return this.color},e.prototype.getShape=function(){return this.shape},e.prototype.getFavorite=function(){return this.favorite},e.prototype.getCount=function(){return this.count},e.prototype.getYear=function(){return this.year},e.prototype.getName=function(){return this.name},e.prototype.getSelect=function(){return this.isSelect},e.prototype.getNumImage=function(){return this.numImage},e.prototype.getIndex=function(){return this.indexSelect},e.prototype.setIndex=function(t){this.indexSelect=t},e}(e),O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();(new(function(t){function e(){var e=t.call(this,"app")||this;return e.toys=[],e.startGame=function(){e.divToy.classList.add("active"),e.divChristmasTree.classList.remove("active"),e.startPage.classList.add("none"),e.treeGame.node.classList.add("none"),e.filterToy.setFocus(),e.filterToy.node.classList.remove("none")},e.showTree=function(){e.divChristmasTree.classList.add("active"),e.divToy.classList.remove("active"),e.startPage.classList.add("none"),e.filterToy.node.classList.add("none"),e.treeGame.clearTree(),e.arrSelect.length?e.treeGame.setToys(e.toys.filter((function(t){return t.isSelect}))):e.treeGame.setToys(e.toys.slice(0,20)),e.treeGame.node.classList.remove("none")},e.arrSelect=JSON.parse(localStorage.getItem("mrk90_christmasSel"))||[],I.forEach((function(t){var n=new z(t);n.init(),e.arrSelect.findIndex((function(t){return t===n.getNumImage()}))>-1&&(n.isSelect=!0,n.node.classList.add("active")),n.node.addEventListener("click",(function(){e.handlerToyClick(n)})),e.toys.push(n)})),e}return O(e,t),e.prototype.init=function(t){var e=this,n="true"===localStorage.getItem("mrk90_audPlay");this.header=document.createElement("header"),this.header.className="header",this.startPage=document.createElement("div"),this.startPage.className="page start_page",this.startPage.innerHTML='<h1 class="start_page_title">Новогодняя игра<span>«Наряди ёлку»</span></h1>',this.startPageBtn=document.createElement("button"),this.startPageBtn.className="start_btn",this.startPageBtn.innerHTML="Начать",this.startPageBtn.addEventListener("click",(function(){e.startGame()})),this.startPage.append(this.startPageBtn),this.filterToy=new d(this.toys),this.filterToy.init(),this.treeGame=new x,this.treeGame.init(),this.filterToy.node.classList.add("none"),this.treeGame.node.classList.add("none"),this.footer=document.createElement("footer"),this.footer.className="footer",this.footer.innerHTML='<div class="footer_container">\n                    <a class="github" href="https://github.com/Mrak9087" target="blank">Mrak9087</a>\n                    <span class="rss_year">2021</span>\n                    <a class="rss" href="https://rs.school/js/" target="_blank" rel="noopener noreferrer">\n                        \n                    </a>\n                </div>',this.message=document.createElement("div"),this.message.className="ovr_container",this.message.innerHTML='<div class="start_page_title">Нельзя выбрать больше 20 игрушек</div>',this.message.addEventListener("click",(function(){e.message.classList.remove("show")})),this.node.append(this.header,this.startPage,this.filterToy.node,this.treeGame.node,this.footer,this.message),this.createHeaderContent(),n&&this.node.addEventListener("click",(function(){e.treeGame.playSound()}),{once:!0}),t.append(this.node)},e.prototype.createHeaderContent=function(){var t=this,e=document.createElement("div");e.className="header_container",this.logo=document.createElement("div"),this.logo.className="logo",this.logo.addEventListener("click",(function(){t.showStartPage()})),this.divToy=document.createElement("div"),this.divToy.className="item_menu",this.divToy.innerHTML="игрушки",this.divToy.addEventListener("click",(function(){t.startGame()})),this.divChristmasTree=document.createElement("div"),this.divChristmasTree.className="item_menu",this.divChristmasTree.innerHTML="елка",this.divChristmasTree.addEventListener("click",(function(){t.showTree()}));var n=document.createElement("nav");n.className="nav",n.append(this.logo,this.divToy,this.divChristmasTree);var i=document.createElement("div");i.className="cnt_header";var r=document.createElement("button");r.className="btn clear_btn",r.type="button",r.innerHTML="Clear localStorage",r.addEventListener("click",(function(){localStorage.clear()})),this.counterSelectDiv=document.createElement("div"),this.counterSelectDiv.className="selectCount",this.counterSelectDiv.innerHTML="<span>".concat(this.arrSelect.length,"</span>"),i.append(r,this.counterSelectDiv),e.append(n,i),this.header.append(e)},e.prototype.showStartPage=function(){this.divToy.classList.remove("active"),this.divChristmasTree.classList.remove("active"),this.filterToy.node.classList.add("none"),this.treeGame.node.classList.add("none"),this.startPage.classList.remove("none")},e.prototype.handlerToyClick=function(t){this.arrSelect.length<20?t.isSelect?(t.node.classList.remove("active"),t.isSelect=!1,this.arrSelect.splice(t.getIndex(),1),t.setIndex(-1)):(t.node.classList.add("active"),this.arrSelect.push(t.getNumImage()),t.isSelect=!0,t.setIndex(this.arrSelect.length-1)):t.isSelect?(t.node.classList.remove("active"),t.isSelect=!1,this.arrSelect.splice(t.getIndex(),1),t.setIndex(-1)):this.message.classList.add("show"),localStorage.setItem("mrk90_christmasSel",JSON.stringify(this.arrSelect)),this.counterSelectDiv.innerHTML="<span>".concat(this.arrSelect.length,"</span>")},e}(e))).init(document.body),console.log("1. Страница с игрушками содержит карточки всех игрушек а также фильтры, строку поиска, поле для сортировки +10 \n2. Карточка игрушки содержит её изображение, название, текстом... +10 \n3. Добавление игрушек в избранное +20 \n4. Сортировка  +20 \n5. Фильтры в указанном диапазоне от и до  +30 \n6. Фильтры по значению +30 \n7. Можно отфильтровать игрушки по нескольким фильтрам разного типа + 20 \n8. Сброс фильтров + 20 \n9. Сохранение настроек в local storage + 10 \n10.Поиск + 30 \nИтого: 200")})()})();
//# sourceMappingURL=bundle.js.map